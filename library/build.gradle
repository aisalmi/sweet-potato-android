plugins {
  id 'com.android.library'
  id 'kotlin-android'
  id 'kotlin-kapt'
}
//apply plugin: "com.novoda.bintray-release"
//apply plugin: "maven"
//apply plugin: "maven-publish"

android
{
  compileSdkVersion 30

  defaultConfig
  {
    minSdkVersion 19
    targetSdkVersion 30

    versionCode 27
    versionName '2.0.0-SNAPSHOT'

    sourceSets
    {
      main.java.srcDirs += 'src/main/kotlin'
    }
  }

  buildFeatures
  {
    viewBinding true
    dataBinding true
  }

  compileOptions
  {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }

  kotlinOptions
  {
    jvmTarget = '1.8'
  }

  buildTypes
  {
    release
    {
      minifyEnabled false
      zipAlignEnabled true
      proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
    }
  }

}

dependencies
{
  // Kotlin
  implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
  implementation "org.jetbrains.kotlin:kotlin-reflect:$kotlin_version"

  // Coroutines
  api "org.jetbrains.kotlinx:kotlinx-coroutines-core:$coroutines_version"
  api "org.jetbrains.kotlinx:kotlinx-coroutines-android:$coroutines_version"

  //Design
  api 'com.google.android.material:material:1.4.0'

  // androidx activities + fragments
  api 'androidx.core:core-ktx:1.6.0'
  api 'androidx.appcompat:appcompat:1.3.1'

  //androidx MVVM pattern
  api 'androidx.lifecycle:lifecycle-extensions:2.2.0'
  api "androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_ktx_version"
  api "androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_ktx_version"
  api "androidx.lifecycle:lifecycle-runtime-ktx:$lifecycle_ktx_version"

  // Third party
  api 'com.jakewharton.timber:timber:5.0.0'
}

//publish
//{
//  userOrg = "hagergroup"
//  repoName = "Maven"
//  groupId = "com.hagergroup"
//  artifactId = "sweet-potato"
//  publishVersion = android.defaultConfig.versionName
//  desc = "Sweet Potato is the Android framework from Hager Group mainly written in Kotlin and only compatible with Android Jetpack.It provides a light-weight wrapper around Android components that contains everyting you need!"
//  website = "https://github.com/hagergroup/sweet-potato-android"
//
//  components
//}
//
//uploadArchives
//{
//  repositories
//  {
//    mavenDeployer
//    {
//      snapshotRepository(url: findProperty("azureArtifactsUrl") ?: "")
//      {
//        authentication(userName: findProperty("azureArtifactsUsername") ?: "", password: findProperty("azureArtifactsGradleAccessToken") ?: "")
//      }
//
//      pom.project
//      {
//        name "Sweet Potato"
//        groupId "com.hagergroup"
//        artifactId "sweet-potato"
//        version android.defaultConfig.versionName
//        packaging "aar"
//      }
//    }
//  }
//}