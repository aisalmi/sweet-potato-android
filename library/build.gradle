apply plugin: "com.android.library"
apply plugin: "kotlin-android"
apply plugin: "kotlin-kapt"
//apply plugin: "com.novoda.bintray-release"
//apply plugin: "maven"
//apply plugin: "maven-publish"

android
{
  compileSdkVersion 30

  defaultConfig
  {
    minSdkVersion 19
    targetSdkVersion 30

    versionCode 27
    versionName "2.0.0-SNAPSHOT"

    sourceSets
    {
      main.java.srcDirs += "src/main/kotlin"
    }
  }

  buildFeatures
  {
    viewBinding true
    dataBinding true
  }

  compileOptions
  {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }

  kotlinOptions
  {
    jvmTarget = "1.8"
  }

  buildTypes
  {
    release
    {
      minifyEnabled false
      zipAlignEnabled true
      proguardFiles getDefaultProguardFile("proguard-android.txt"), "proguard-rules.pro"
    }
  }

}

dependencies
{
  // Kotlin
  implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
  implementation "org.jetbrains.kotlin:kotlin-reflect:$kotlin_version"

  // Coroutines
  api "org.jetbrains.kotlinx:kotlinx-coroutines-core:1.4.3"
  api "org.jetbrains.kotlinx:kotlinx-coroutines-android:1.4.3"

  //Design
  api "com.google.android.material:material:1.3.0"

  // androidx activities + fragments
  api "androidx.core:core-ktx:1.3.2"
  api "androidx.appcompat:appcompat:1.2.0"

  //androidx MVVM pattern
  api "androidx.lifecycle:lifecycle-runtime-ktx:2.3.1"
  api "androidx.lifecycle:lifecycle-extensions:2.2.0"
  api "androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1"

  // Third party
  api "com.jakewharton.timber:timber:4.7.1"
}

//publish
//{
//  userOrg = "hagergroup"
//  repoName = "Maven"
//  groupId = "com.hagergroup"
//  artifactId = "sweet-potato"
//  publishVersion = android.defaultConfig.versionName
//  desc = "Sweet Potato is the Android framework from Hager Group mainly written in Kotlin and only compatible with Android Jetpack.It provides a light-weight wrapper around Android components that contains everyting you need!"
//  website = "https://github.com/hagergroup/sweet-potato-android"
//
//  components
//}
//
//uploadArchives
//{
//  repositories
//  {
//    mavenDeployer
//    {
//      snapshotRepository(url: findProperty("azureArtifactsUrl") ?: "")
//      {
//        authentication(userName: findProperty("azureArtifactsUsername") ?: "", password: findProperty("azureArtifactsGradleAccessToken") ?: "")
//      }
//
//      pom.project
//      {
//        name "Sweet Potato"
//        groupId "com.hagergroup"
//        artifactId "sweet-potato"
//        version android.defaultConfig.versionName
//        packaging "aar"
//      }
//    }
//  }
//}